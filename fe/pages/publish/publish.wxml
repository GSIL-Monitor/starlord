<view class='page'>
  <view class='section-title'>
    行程模板管理
    <block wx:if="{{!loading_data && templates.length > 0}}">
    (长按删除模板)
    </block>
  </view>
  <view class='list'>
    <block wx:for-items="{{templates}}" wx:key="{{item.id}}">
      <view id="{{index}}" class="list-item" hover-class='ontap' data-tripId='{{item.trip_id}}' data-page="{{ item.trip_type == 1 ? 'passengerPublish' : 'driverPublish' }}" data-tripType='{{item.trip_type}}' bindtap='goPage' bindlongpress="onDeleteTemplate">
        <view class='data-item'>
          <image class='item-icon' src='/images/profile_HL.png' />
          <text class='item-value item-value-hl'>{{ item.trip_type == 1 ? '人找车' : '车找人' }}</text>
        </view>
        <view class='data-item'>
          <image class='item-icon' src='/images/location_start.png' />
          <text class='item-value'>{{ item.start_location_address }}</text>
        </view>
        <view class='data-item'>
          <image class='item-icon' src='/images/location_end.png' />
          <text class='item-value'>{{ item.end_location_address }}</text>
        </view>
        <view class='data-item'>
          <image class='item-icon' src='/images/price.png' />
          <view class='item-value' wx:if='{{ item.trip_type == 1 }}'>
            愿付: {{ item.price_everyone }}元/人，人数: {{ item.people_num }}
          </view>
          <view class='item-value' wx:if='{{ item.trip_type == 0 }}'>
            价格: {{ item.price_everyone }}元/人，包车: {{ item.price_total }}元，座位: {{ item.seat_num }}
          </view>
        </view>
      </view>
    </block>
    <block wx:if="{{!loading_data && (!templates || templates.length == 0)}}">
      <text class='empty-message'>暂无模板</text>
    </block>
    <block wx:if="{{loading_data}}">
      <text class='empty-message'>数据加载中...</text>
    </block>
  </view>
  <view class='section-title'>创建行程或模板</view>
  <view class='btn-wrap'>
    <view class='btn-group'>
      <button class='btn-create' type='primary' data-page='driverPublish' bindtap='goPage'>车找人</button>
      <button class='btn-create' type='primary' data-page='passengerPublish' bindtap='goPage'>人找车</button>
    </view>
    <view class='info'>发布行程到你的拼车群，同群好友快速查询，其他群的拼友也可以搜到你的行程。</view>
  </view>
</view>